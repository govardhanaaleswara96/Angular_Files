<button class="btn btn-success btn-lg mb-4" (click)="showForm = !showForm">Add User</button>
<div *ngIf="showForm" class="card card-body mb-4">
    <h4>Add User</h4>
    <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
        <div class="form-group">
            <label>First Name</label>
            <input [(ngModel)]="user.firstName" type="text" name="firstName" class="form-control" [ngClass]="{'is-invalid':userFirstName.errors && 
            userFirstName.touched
            }" #userFirstName="ngModel" required minlength="2">
            <div [hidden]="!userFirstName.errors?.required" class="invalid-feedback">
                First Name Required !
            </div>
            <div [hidden]="!userFirstName.errors?.minlength" class="invalid-feedback">
                Minimum Length 2 Required !
            </div>
        </div>
        <div class="form-group">
            <label>Last Name</label>
            <input [(ngModel)]="user.lastName" type="text" name="lastName" class="form-control" #userLastName="ngModel"
                required minlength="2" [ngClass]="{'is-invalid':userLastName.errors 
            && userLastName.touched}">
            <div [hidden]="!userLastName.errors?.required" class="invalid-feedback">
                Last Name Required !
            </div>
            <div [hidden]="!userLastName.errors?.minlength" class="invalid-feedback">
                Minimum Length 2 Required !
            </div>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input [(ngModel)]="user.email" type="email" name="email" class="form-control" #userEmail="ngModel" required
                [ngClass]="{'is-invalid':userEmail.errors 
             && userEmail.touched}">
            <div [hidden]="!userEmail.errors?.required" class="invalid-feedback">
                Email Required !
            </div>
            <div [hidden]="!userEmail.errors?.email" class="invalid-feedback">
                Enter Valid Email Id
            </div>
        </div>
        <button [disabled]="userForm.invalid" class="btn btn-block mb-3">
            Add New User
        </button>
    </form>
</div>
<h2>Users</h2>
<ul class="list-unstyled" *ngIf="loaded && users?.length > 0">
    <li [style.border-color]="user.isActive?'teal':''" [class.bg-light]="user.isActive" *ngFor="let user of users"
        class="card card-body mb-4">
        <h4>{{user.firstName}} {{user.lastName}}
            <small>
                <button (click)="user.hide = !user.hide" class="btn btn-dark">
                    <i [ngClass]="user.hide?'fa fa-plus':'fa fa-minus'"></i>
                </button>
            </small>
        </h4>
        <ul class="list-group" *ngIf="!user.hide">
            <li class="list-group-item">Email : {{user.email}}</li>
            <li class="list-group-item">
                Register : {{user.register | date:"longDate"}}
            </li>
        </ul>
    </li>
</ul>
<h3 *ngIf="users?.length == 0">No User Found !</h3>
<h3 *ngIf="!loaded">Users Loading ...</h3>